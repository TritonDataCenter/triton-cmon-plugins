#!/bin/bash

# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at https://mozilla.org/MPL/2.0/.

# Copyright 2020 Joyent, Inc.
# Copyright 2025 Edgecast Cloud LLC.

case "$1" in
    list)
        if [[ "$2" == "-H" ]]; then
            # Output parseable list of zone UUIDs
            cat <<INNEREOF
f62b0465-d232-4a17-b312-25319236995c
INNEREOF
        elif [[ "$2" == "-p" ]]
            cat <<INNEREOF
1f4204e6-03a4-4096-9db8-f84f1b5b4b8d:dev-webserver:bhyve:running:4096:1:1:38912:8192:4000:75fe7c5c-c2b4-4fc9-b5f5-c4f69b37d32f:01f842b9-6415-4b92-89e5-f35bdd52150c
a83d6dcb-ee7f-41bd-9ee9-0b9577f9b999:em7h1fewref3w-lb-f7xm3yg3shde-nvka:joyent:running:4096::50::8192:8192:5e74772d-8663-491f-90dd-1bf7b1939f45:1bfca979-16d4-49d7-90db-cb70fc1da870
aa69a499-dd8e-4459-8bfc-4899c94bab14:piranha-portal-aa69a499:joyent:running:4096::38::8192:4000:75fe7c5c-c2b4-4fc9-b5f5-c4f69b37d32f:56231556-2e6d-4d9a-9ca8-83536a6223e5
41e6a368-fa01-40a6-a44f-f450c532c203:41e6a368:joyent:running:8192::75::16384:4000:27c55576-8004-11ee-84a3-40a6b72259f8:7a53ef65-3ed6-400b-a66a-e200df261ec9
7a02ed46-24d5-4669-abba-c0748b42fc64:rancher001:bhyve:running:16384:4:1:153600:32568:4000:a8812006-290d-4ae5-892e-d8b5f200ccee:4e5b4003-a70c-4775-8083-863a6b298285
83025959-de12-47ae-997c-55e22fdfb444:1a-telemetry-k0s-prd-04:bhyve:running:32768:8:1:1126400:65536:8192:fc6b0e77-c8ca-4b57-b0db-7ca7da0774ab:e5f78872-a966-41f9-b042-7ec8e4a2f4c5
856b2712-6938-4fa1-91a1-a2a169da8fd2:testnet-sentry-2:bhyve:running:32768:8:1:307200:131072:4000:553db434-f9a5-b2ef-ee26-507e00434f1d:a098651e-6025-4c28-89bb-6cd399055ce3
b32f777c-acf0-46bb-933e-e25807f039c3:1a-k8s-dev-6:bhyve:running:32768:8:1:307200:131072:4000:c12804a4-7acc-4cf2-841c-0ec55a8ae7c7:3a666c03-1be7-49a7-95fb-a0342de88504
8c0b84f5-a9e8-4428-8c0c-c02f2cf2ed3b:gptxfsfgphz58-0wb2w-da11-prod-pool-1:bhyve:running:65280:16:1:614400:130560:4000:d65e3afd-c024-42a5-97d9-a50ad2f300c0:be8063ec-8367-480a-89dc-30149f85aafb
INNEREOF
        fi
        ;;
    get)
        uuid="$2"
        if [[ "$uuid" == "f62b0465-d232-4a17-b312-25319236995c" ]]; then
            cat <<'INNEREOF'
{
  "uuid": "f62b0465-d232-4a17-b312-25319236995c",
  "brand": "bhyve",
  "state": "running",
  "alias": "primarycache_test",
  "ram": 65280,
  "vcpus": 16,
  "quota": 1,
  "flexible_disk_size": 614400,
  "max_swap": 130560,
  "max_lwps": 4000,
  "billing_id": "d65e3afd-c024-42a5-97d9-a50ad2f300c0",
  "owner_uuid": "7a53ef65-3ed6-400b-a66a-e200df261ec9"
}
INNEREOF
        fi
        ;;
esac
